/*! campi-moduli-italiani 2.1.0 */
"use strict";jQuery(document).ready(function(c){const i=wp.i18n["__"];var e,t,a,o,s,n='<option value="">'+i("Select...","campi-moduli-italiani")+"</option>",l='<option value="">'+i("Wait...","campi-moduli-italiani")+"</option>",d="",r="",m="",g=c.isFunction(window.Choices),h="";c("select[id$='gcmi_regione']").val(""),c("select[id$='gcmi_regione']").removeAttr("disabled"),c("select[id$='gcmi_province']").html(n),c("select[id$='gcmi_province']").attr("disabled","disabled"),c("select[id$='gcmi_comuni']").html(n),c("select[id$='gcmi_comuni']").attr("disabled","disabled"),c("[id$='gcmi_icon']").hide(),c("input[id$='gcmi_targa']").val(""),c("input[id$='gcmi_mail']").val(""),c("select[id$='gcmi_regione']").change(function(){window.MyPrefix=this.id.substring(0,this.id.length-"gcmi_regione".length),r=c("select#"+window.MyPrefix+"gcmi_regione option:selected").attr("value"),t=c("select#"+window.MyPrefix+"gcmi_regione option:selected").text(),c("input#"+window.MyPrefix+"gcmi_reg_desc").val(t),c("input#"+window.MyPrefix+"gcmi_prov_desc").val(""),c("input#"+window.MyPrefix+"gcmi_comu_desc").val(""),m=c("input#"+window.MyPrefix+"gcmi_kind").attr("value"),""==!r?"00"!=r?((h=c("select#"+window.MyPrefix+"gcmi_province")).html(l),h.attr("disabled","disabled"),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").disable()),(h=c("select#"+window.MyPrefix+"gcmi_comuni")).html(n),h.attr("disabled","disabled"),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").disable()),c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_prov",nonce_ajax:gcmi_ajax.nonce,codice_regione:r,gcmi_kind:m},success:function(i){(h=c("select#"+window.MyPrefix+"gcmi_province")).removeAttr("disabled"),h.html(i),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").enable())},async:!1})):((h=c("select#"+window.MyPrefix+"gcmi_comuni")).html(l),h.attr("disabled","disabled"),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").disable()),(h=c("select#"+window.MyPrefix+"gcmi_province")).html(l),h.attr("disabled","disabled"),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").disable()),c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_prov",nonce_ajax:gcmi_ajax.nonce,codice_regione:r,gcmi_kind:m},success:function(i){(h=c("select#"+window.MyPrefix+"gcmi_comuni")).removeAttr("disabled"),h.html(i),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").enable())},async:!1})):((h=c("select#"+window.MyPrefix+"gcmi_province")).html(n),h.attr("disabled","disabled"),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").disable()),(h=c("select#"+window.MyPrefix+"gcmi_comuni")).html(n),h.attr("disabled","disabled"),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").disable())),c("#"+window.MyPrefix+"gcmi_icon").hide(),c("#"+window.MyPrefix+"gcmi_info").hide()}),c("select[id$='gcmi_province']").change(function(){window.MyPrefix=this.id.substring(0,this.id.length-"gcmi_province".length),e=c("select#"+window.MyPrefix+"gcmi_province option:selected").attr("value"),a=c("select#"+window.MyPrefix+"gcmi_province option:selected").text(),c("input#"+window.MyPrefix+"gcmi_prov_desc").val(a),c("input#"+window.MyPrefix+"gcmi_comu_desc").val(""),(h=c("select#"+window.MyPrefix+"gcmi_comuni")).html(l),h.attr("disabled","disabled"),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").disable()),""==!e?c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_comu",nonce_ajax:gcmi_ajax.nonce,codice_provincia:e,gcmi_kind:m},success:function(i){h.removeAttr("disabled"),h.html(i),g&&h.hasClass("choicesjs-select")&&(c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0),c(h).data("choicesjs").enable())},async:!1}):(h.html(n),g&&h.hasClass("choicesjs-select")&&c(h).data("choicesjs").setChoices(Array.from(c(h)[0].options),"value","label",!0)),c("#"+window.MyPrefix+"gcmi_icon").hide(),c("#"+window.MyPrefix+"gcmi_info").hide()}),c("select[id$='gcmi_comuni']").change(function(){window.MyPrefix=this.id.substring(0,this.id.length-"gcmi_comuni".length),d=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").attr("value"),o=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").text(),c("input#"+window.MyPrefix+"gcmi_comu_desc").val(o),c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_targa",nonce_ajax:gcmi_ajax.nonce,codice_comune:d,gcmi_kind:m},success:function(i){c("input#"+window.MyPrefix+"gcmi_targa").val(i),i="00"!=r?c("select#"+window.MyPrefix+"gcmi_comuni option:selected").text()+" ("+c("input#"+window.MyPrefix+"gcmi_targa").val()+")":c("select#"+window.MyPrefix+"gcmi_comuni option:selected").text()+" - (sopp.) ("+c("input#"+window.MyPrefix+"gcmi_targa").val()+")",c("input#"+window.MyPrefix+"gcmi_formatted").attr("value",i),c("#"+window.MyPrefix+"gcmi_info").hide(),""!=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").val()?c("#"+window.MyPrefix+"gcmi_icon").show():c("#"+window.MyPrefix+"gcmi_icon").hide()},async:!1})}),c("[id$='gcmi_icon']").click(function(){window.MyPrefix=event.target.id.substring(0,event.target.id.length-"gcmi_icon".length),d=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").attr("value"),c.post(gcmi_ajax.ajaxurl,{action:"the_ajax_hook_info",nonce_ajax:gcmi_ajax.nonce,codice_comune:d},function(i){c("#"+window.MyPrefix+"gcmi_info").html(i)}),c("#"+window.MyPrefix+"gcmi_info").dialog({autoOpen:!1,hide:"puff",show:"slide",width:"auto",maxWidth:600,height:"auto",minWidth:300,title:i("Municipality details","campi-moduli-italiani"),closeText:i("Close","campi-moduli-italiani")}),c("#"+window.MyPrefix+"gcmi_info").dialog("open")}),c("[id^='TTVar']").mouseover(function(){event.target.id.tooltip()}),c("select[id$='gcmi_comuni']").each(function(){var i=this.id.substring(0,this.id.length-"gcmi_comuni".length);void 0!==(s=c(this).attr("data-prval"))&&!1!==s&&!async function(i,e){try{await c("select#"+i+"gcmi_regione").find('option[value="'+e.substring(0,2)+'"]').prop("selected",!0).trigger("change")}catch(i){console.log(i)}if("00"!=c("select#"+i+"gcmi_regione").val())try{await c("select#"+i+"gcmi_province").find('option[value="'+e.substring(2,5)+'"]').prop("selected",!0).trigger("change")}catch(i){console.log(i)}try{await c("select#"+i+"gcmi_comuni").find('option[value="'+e.substring(5)+'"]').prop("selected",!0).trigger("change")}catch(i){console.log(i)}}(i,s)})});