/*! campi-moduli-italiani 2.1.0 */
jQuery(document).ready(function(t){"use strict";const a=wp.i18n["__"];var e,i,s,o,c,n,l,d,r,h='<option value="">'+a("Select...","campi-moduli-italiani")+"</option>",w='<option value="">'+a("Wait...","campi-moduli-italiani")+"</option>",u="",f="",g="",m="",p=typeof("function"===window.Choices),x="",y="gcmi_regione",_="gcmi_province",j="gcmi_comuni",b="gcmi_icon",v="gcmi_targa",P="gcmi_info";t("select[id$='"+y+"']").val(""),t("select[id$='"+y+"']").prop("disabled",!1),t("select[id$='"+_+"']").html(h),t("select[id$='"+_+"']").attr("disabled","disabled"),t("select[id$='"+j+"']").html(h),t("select[id$='"+j+"']").attr("disabled","disabled"),t("[id$='"+b+"']").hide(),t("input[id$='"+v+"']").val(""),t("input[id$='gcmi_mail']").val(""),void 0!==t.fn.niceSelect&&(n=t("select[id*='gcmi'][style='display: none']"),l=window.MutationObserver||window.WebKitMutationObserver,d=new l(function(e){e=e[0].target,t(e).niceSelect("update")}),r={attributes:!0,characterData:!0,childList:!0,subtree:!0},n.each(function(){d.observe(this,r)})),t("select[id$='"+y+"']").on("change",function(){window.MyPrefix=this.id.substring(0,this.id.length-y.length),f=t("select#"+window.MyPrefix+y+" option:selected").attr("value"),i=t("select#"+window.MyPrefix+y+" option:selected").text(),t("input#"+window.MyPrefix+"gcmi_reg_desc").val(i),t("input#"+window.MyPrefix+"gcmi_prov_desc").val(""),t("input#"+window.MyPrefix+"gcmi_comu_desc").val(""),g=t("input#"+window.MyPrefix+"gcmi_kind").attr("value"),m=t("input#"+window.MyPrefix+"gcmi_filtername").attr("value"),""!==f?"00"!==f?((x=t("select#"+window.MyPrefix+_)).html(w),x.attr("disabled","disabled"),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").disable()),(x=t("select#"+window.MyPrefix+j)).html(h),x.attr("disabled","disabled"),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").disable()),t.ajax({data:{action:"the_ajax_hook_prov",codice_regione:f,gcmi_filtername:m,gcmi_kind:g,nonce_ajax:gcmi_ajax.nonce},success:function(e){(x=t("select#"+window.MyPrefix+_)).prop("disabled",!1),x.html(e),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").enable()),e=window.MyPrefix,2===t("#"+e+_).children("option").length&&(t("#"+e+_+" option").eq(1).prop("selected",!0),t("#"+e+_).trigger("change"),t("label[for='"+e+_).hide(),t("#"+e+_).hide())},type:"POST",url:gcmi_ajax.ajaxurl})):((x=t("select#"+window.MyPrefix+j)).html(w),x.attr("disabled","disabled"),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").disable()),(x=t("select#"+window.MyPrefix+_)).html(w),x.attr("disabled","disabled"),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").disable()),t.ajax({async:!1,data:{action:"the_ajax_hook_prov",codice_regione:f,gcmi_filtername:m,gcmi_kind:g,nonce_ajax:gcmi_ajax.nonce},success:function(e){(x=t("select#"+window.MyPrefix+j)).prop("disabled",!1),x.html(e),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").enable())},type:"POST",url:gcmi_ajax.ajaxurl})):((x=t("select#"+window.MyPrefix+_)).html(h),x.attr("disabled","disabled"),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").disable()),(x=t("select#"+window.MyPrefix+j)).html(h),x.attr("disabled","disabled"),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").disable())),t("#"+window.MyPrefix+b).hide(),t("#"+window.MyPrefix+P).hide()}),t("select[id$='"+_+"']").on("change",function(){window.MyPrefix=this.id.substring(0,this.id.length-_.length),e=t("select#"+window.MyPrefix+_+" option:selected").attr("value"),s=t("select#"+window.MyPrefix+_+" option:selected").text(),t("input#"+window.MyPrefix+"gcmi_prov_desc").val(s),t("input#"+window.MyPrefix+"gcmi_comu_desc").val(""),g=t("input#"+window.MyPrefix+"gcmi_kind").attr("value"),m=t("input#"+window.MyPrefix+"gcmi_filtername").attr("value"),(x=t("select#"+window.MyPrefix+j)).html(w),x.attr("disabled","disabled"),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").disable()),""!==e?t.ajax({async:!1,data:{action:"the_ajax_hook_comu",codice_provincia:e,gcmi_filtername:m,gcmi_kind:g,nonce_ajax:gcmi_ajax.nonce},success:function(e){x.prop("disabled",!1),x.html(e),p&&x.hasClass("choicesjs-select")&&(t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0),t(x).data("choicesjs").enable())},type:"POST",url:gcmi_ajax.ajaxurl}):(x.html(h),p&&x.hasClass("choicesjs-select")&&t(x).data("choicesjs").setChoices(Array.from(t(x)[0].options),"value","label",!0)),t("#"+window.MyPrefix+b).hide(),t("#"+window.MyPrefix+P).hide()}),t("select[id$='"+j+"']").on("change",function(){var i="";window.MyPrefix=this.id.substring(0,this.id.length-j.length),u=t("select#"+window.MyPrefix+j+" option:selected").attr("value"),g=t("input#"+window.MyPrefix+"gcmi_kind").attr("value"),m=t("input#"+window.MyPrefix+"gcmi_filtername").attr("value"),o=t("select#"+window.MyPrefix+j+" option:selected").text(),t("input#"+window.MyPrefix+"gcmi_comu_desc").val(o),t.ajax({async:!1,data:{action:"the_ajax_hook_targa",codice_comune:u,gcmi_filtername:m,gcmi_kind:g,nonce_ajax:gcmi_ajax.nonce},success:function(e){t("input#"+window.MyPrefix+v).val(e),i="00"!==f?t("select#"+window.MyPrefix+j+" option:selected").text()+" ("+t("input#"+window.MyPrefix+v).val()+")":t("select#"+window.MyPrefix+j+" option:selected").text()+" - ("+a("sopp.","campi-moduli-italiani")+") ("+t("input#"+window.MyPrefix+v).val()+")",t("input#"+window.MyPrefix+"gcmi_formatted").attr("value",i),t("#"+window.MyPrefix+P).hide(),""!==t("select#"+window.MyPrefix+j+" option:selected").val()?t("#"+window.MyPrefix+b).show():t("#"+window.MyPrefix+b).hide()},type:"POST",url:gcmi_ajax.ajaxurl})}),t("[id$='"+b+"']").on("click",function(){window.MyPrefix=event.target.id.substring(0,event.target.id.length-b.length),u=t("select#"+window.MyPrefix+j+" option:selected").attr("value"),t.ajax({data:{action:"the_ajax_hook_info",codice_comune:u,gcmi_filtername:m,nonce_ajax:gcmi_ajax.nonce},success:function(e){e=e.trim();""!==e&&(t("#"+window.MyPrefix+P).html(e),t("#"+window.MyPrefix+P).dialog({autoOpen:!1,closeText:a("Close","campi-moduli-italiani"),height:"auto",hide:"puff",maxWidth:600,minWidth:300,show:"slide",title:a("Municipality details","campi-moduli-italiani"),width:"auto"}),t("#"+window.MyPrefix+P).dialog("open"))},type:"POST",url:gcmi_ajax.ajaxurl})}),t("[id^='TTVar']").on("mouseover",function(){event.target.id.tooltip()}),t("select[id$='"+j+"']").each(function(){var e=this.id.substring(0,this.id.length-j.length);void 0!==(c=t(this).attr("data-prval"))&&!1!==c&&!async function(e,i){try{await t("select#"+e+y).find('option[value="'+i.substring(0,2)+'"]').prop("selected",!0).trigger("change")}catch(e){console.log(e)}if("00"!==t("select#"+e+y).val())try{await t("select#"+e+_).find('option[value="'+i.substring(2,5)+'"]').prop("selected",!0).trigger("change")}catch(e){console.log(e)}try{await t("select#"+e+j).find('option[value="'+i.substring(5)+'"]').prop("selected",!0).trigger("change")}catch(e){console.log(e)}}(e,c)}),t("select[id$='"+y+"']").each(function(){window.MyPrefix=this.id.substring(0,this.id.length-y.length),2===t(this).children("option").length&&(t("#"+window.MyPrefix+y+" option").eq(1).prop("selected",!0),t("#"+window.MyPrefix+y).trigger("change"),t("label[for='"+window.MyPrefix+y+"'").hide(),t(this).hide())})});