/*! campi-moduli-italiani 2.1.0 */
"use strict";jQuery(document).ready(function(c){const e=wp.i18n["__"];var i,t,o,a,n,s,l,d,r='<option value="">'+e("Select...","campi-moduli-italiani")+"</option>",m='<option value="">'+e("Wait...","campi-moduli-italiani")+"</option>",g="",h="",_="",u="",w=c.isFunction(window.Choices),f="";c("select[id$='gcmi_regione']").val(""),c("select[id$='gcmi_regione']").removeAttr("disabled"),c("select[id$='gcmi_province']").html(r),c("select[id$='gcmi_province']").attr("disabled","disabled"),c("select[id$='gcmi_comuni']").html(r),c("select[id$='gcmi_comuni']").attr("disabled","disabled"),c("[id$='gcmi_icon']").hide(),c("input[id$='gcmi_targa']").val(""),c("input[id$='gcmi_mail']").val(""),void 0!==c.fn.niceSelect&&(s=c("select[id*='gcmi'][style='display: none']"),l=new(window.MutationObserver||window.WebKitMutationObserver)(function(i){i=i[0].target;c(i).niceSelect("update")}),d={childList:!0,characterData:!0,attributes:!0,subtree:!0},s.each(function(){l.observe(this,d)})),c("select[id$='gcmi_regione']").change(function(){window.MyPrefix=this.id.substring(0,this.id.length-"gcmi_regione".length),h=c("select#"+window.MyPrefix+"gcmi_regione option:selected").attr("value"),t=c("select#"+window.MyPrefix+"gcmi_regione option:selected").text(),c("input#"+window.MyPrefix+"gcmi_reg_desc").val(t),c("input#"+window.MyPrefix+"gcmi_prov_desc").val(""),c("input#"+window.MyPrefix+"gcmi_comu_desc").val(""),_=c("input#"+window.MyPrefix+"gcmi_kind").attr("value"),u=c("input#"+window.MyPrefix+"gcmi_filtername").attr("value"),""==!h?"00"!=h?((f=c("select#"+window.MyPrefix+"gcmi_province")).html(m),f.attr("disabled","disabled"),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").disable()),(f=c("select#"+window.MyPrefix+"gcmi_comuni")).html(r),f.attr("disabled","disabled"),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").disable()),c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_prov",nonce_ajax:gcmi_ajax.nonce,codice_regione:h,gcmi_kind:_,gcmi_filtername:u},success:function(i){(f=c("select#"+window.MyPrefix+"gcmi_province")).removeAttr("disabled"),f.html(i),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").enable()),i=window.MyPrefix,2===c("#"+i+"gcmi_province").children("option").length&&(c("#"+i+"gcmi_province option").eq(1).prop("selected",!0),c("#"+i+"gcmi_province").trigger("change"),c("label[for='"+i+"gcmi_province").hide(),c("#"+i+"gcmi_province").hide())},async:!1})):((f=c("select#"+window.MyPrefix+"gcmi_comuni")).html(m),f.attr("disabled","disabled"),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").disable()),(f=c("select#"+window.MyPrefix+"gcmi_province")).html(m),f.attr("disabled","disabled"),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").disable()),c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_prov",nonce_ajax:gcmi_ajax.nonce,codice_regione:h,gcmi_kind:_,gcmi_filtername:u},success:function(i){(f=c("select#"+window.MyPrefix+"gcmi_comuni")).removeAttr("disabled"),f.html(i),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").enable())},async:!1})):((f=c("select#"+window.MyPrefix+"gcmi_province")).html(r),f.attr("disabled","disabled"),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").disable()),(f=c("select#"+window.MyPrefix+"gcmi_comuni")).html(r),f.attr("disabled","disabled"),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").disable())),c("#"+window.MyPrefix+"gcmi_icon").hide(),c("#"+window.MyPrefix+"gcmi_info").hide()}),c("select[id$='gcmi_province']").change(function(){window.MyPrefix=this.id.substring(0,this.id.length-"gcmi_province".length),i=c("select#"+window.MyPrefix+"gcmi_province option:selected").attr("value"),o=c("select#"+window.MyPrefix+"gcmi_province option:selected").text(),c("input#"+window.MyPrefix+"gcmi_prov_desc").val(o),c("input#"+window.MyPrefix+"gcmi_comu_desc").val(""),_=c("input#"+window.MyPrefix+"gcmi_kind").attr("value"),u=c("input#"+window.MyPrefix+"gcmi_filtername").attr("value"),(f=c("select#"+window.MyPrefix+"gcmi_comuni")).html(m),f.attr("disabled","disabled"),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").disable()),""==!i?c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_comu",nonce_ajax:gcmi_ajax.nonce,codice_provincia:i,gcmi_kind:_,gcmi_filtername:u},success:function(i){f.removeAttr("disabled"),f.html(i),w&&f.hasClass("choicesjs-select")&&(c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0),c(f).data("choicesjs").enable())},async:!1}):(f.html(r),w&&f.hasClass("choicesjs-select")&&c(f).data("choicesjs").setChoices(Array.from(c(f)[0].options),"value","label",!0)),c("#"+window.MyPrefix+"gcmi_icon").hide(),c("#"+window.MyPrefix+"gcmi_info").hide()}),c("select[id$='gcmi_comuni']").change(function(){window.MyPrefix=this.id.substring(0,this.id.length-"gcmi_comuni".length),g=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").attr("value"),_=c("input#"+window.MyPrefix+"gcmi_kind").attr("value"),u=c("input#"+window.MyPrefix+"gcmi_filtername").attr("value"),a=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").text(),c("input#"+window.MyPrefix+"gcmi_comu_desc").val(a),c.ajax({type:"POST",url:gcmi_ajax.ajaxurl,data:{action:"the_ajax_hook_targa",nonce_ajax:gcmi_ajax.nonce,codice_comune:g,gcmi_kind:_,gcmi_filtername:u},success:function(i){c("input#"+window.MyPrefix+"gcmi_targa").val(i),i="00"!=h?c("select#"+window.MyPrefix+"gcmi_comuni option:selected").text()+" ("+c("input#"+window.MyPrefix+"gcmi_targa").val()+")":c("select#"+window.MyPrefix+"gcmi_comuni option:selected").text()+" - (sopp.) ("+c("input#"+window.MyPrefix+"gcmi_targa").val()+")",c("input#"+window.MyPrefix+"gcmi_formatted").attr("value",i),c("#"+window.MyPrefix+"gcmi_info").hide(),""!=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").val()?c("#"+window.MyPrefix+"gcmi_icon").show():c("#"+window.MyPrefix+"gcmi_icon").hide()},async:!1})}),c("[id$='gcmi_icon']").click(function(){window.MyPrefix=event.target.id.substring(0,event.target.id.length-"gcmi_icon".length),g=c("select#"+window.MyPrefix+"gcmi_comuni option:selected").attr("value"),c.post(gcmi_ajax.ajaxurl,{action:"the_ajax_hook_info",nonce_ajax:gcmi_ajax.nonce,codice_comune:g,gcmi_filtername:u},function(i){c.trim(i)&&(c("#"+window.MyPrefix+"gcmi_info").html(i),c("#"+window.MyPrefix+"gcmi_info").dialog({autoOpen:!1,hide:"puff",show:"slide",width:"auto",maxWidth:600,height:"auto",minWidth:300,title:e("Municipality details","campi-moduli-italiani"),closeText:e("Close","campi-moduli-italiani")}),c("#"+window.MyPrefix+"gcmi_info").dialog("open"))})}),c("[id^='TTVar']").mouseover(function(){event.target.id.tooltip()}),c("select[id$='gcmi_comuni']").each(function(){var i=this.id.substring(0,this.id.length-"gcmi_comuni".length);void 0!==(n=c(this).attr("data-prval"))&&!1!==n&&!async function(i,e){try{await c("select#"+i+"gcmi_regione").find('option[value="'+e.substring(0,2)+'"]').prop("selected",!0).trigger("change")}catch(i){console.log(i)}if("00"!=c("select#"+i+"gcmi_regione").val())try{await c("select#"+i+"gcmi_province").find('option[value="'+e.substring(2,5)+'"]').prop("selected",!0).trigger("change")}catch(i){console.log(i)}try{await c("select#"+i+"gcmi_comuni").find('option[value="'+e.substring(5)+'"]').prop("selected",!0).trigger("change")}catch(i){console.log(i)}}(i,n)}),c("select[id$='gcmi_regione']").each(function(){window.MyPrefix=this.id.substring(0,this.id.length-"gcmi_regione".length),2===c(this).children("option").length&&(c("#"+window.MyPrefix+"gcmi_regione option").eq(1).prop("selected",!0),c("#"+window.MyPrefix+"gcmi_regione").trigger("change"),c("label[for='"+window.MyPrefix+"gcmi_regione'").hide(),c(this).hide())})});